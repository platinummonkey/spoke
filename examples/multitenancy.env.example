# Multi-Tenancy Configuration Example
# Copy this file to .env and configure for your environment

# Database Configuration
DATABASE_URL=postgresql://spoke:spoke@localhost:5432/spoke?sslmode=disable

# Stripe Configuration (for billing)
# Get these from https://dashboard.stripe.com/apikeys
STRIPE_API_KEY=sk_test_51234567890abcdefghijklmnopqrstuvwxyz
STRIPE_WEBHOOK_SECRET=whsec_1234567890abcdefghijklmnopqrstuvwxyz

# Server Configuration
PORT=8080
HOST=0.0.0.0

# Redis Configuration (for caching)
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=
REDIS_DB=0

# S3 Configuration (for file storage)
S3_ENDPOINT=https://s3.amazonaws.com
S3_REGION=us-east-1
S3_BUCKET=spoke-storage
S3_ACCESS_KEY=AKIA...
S3_SECRET_KEY=...

# Feature Flags
ENABLE_BILLING=true
ENABLE_USAGE_TRACKING=true
ENABLE_QUOTA_ENFORCEMENT=true
ENABLE_RATE_LIMITING=true

# Plan Tier Configurations
# Free Tier
PLAN_FREE_MAX_MODULES=5
PLAN_FREE_MAX_VERSIONS=50
PLAN_FREE_MAX_STORAGE_GB=1
PLAN_FREE_MAX_COMPILE_JOBS=100
PLAN_FREE_API_RATE_LIMIT=1000

# Pro Tier
PLAN_PRO_PRICE_CENTS=4900
PLAN_PRO_MAX_MODULES=50
PLAN_PRO_MAX_VERSIONS=500
PLAN_PRO_MAX_STORAGE_GB=10
PLAN_PRO_MAX_COMPILE_JOBS=1000
PLAN_PRO_API_RATE_LIMIT=10000

# Enterprise Tier
PLAN_ENTERPRISE_PRICE_CENTS=49900
PLAN_ENTERPRISE_MAX_MODULES=1000
PLAN_ENTERPRISE_MAX_VERSIONS=10000
PLAN_ENTERPRISE_MAX_STORAGE_GB=100
PLAN_ENTERPRISE_MAX_COMPILE_JOBS=100000
PLAN_ENTERPRISE_API_RATE_LIMIT=100000

# Invitation Configuration
INVITATION_EXPIRY_DAYS=7
INVITATION_EMAIL_FROM=noreply@spoke.example.com

# Usage Period Configuration
USAGE_PERIOD=monthly  # monthly or daily
USAGE_RESET_DAY=1     # Day of month to reset (1-28)

# Security Configuration
SESSION_SECRET=change-this-to-a-random-string
JWT_SECRET=change-this-to-another-random-string
COOKIE_SECURE=false   # Set to true in production with HTTPS

# Logging
LOG_LEVEL=info
LOG_FORMAT=json

# Monitoring
ENABLE_METRICS=true
METRICS_PORT=9090
